<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Crypto Analytics — Free Power BI + CoinGecko</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .glass { background: rgba(255,255,255,0.08); backdrop-filter: blur(10px); }
    .shadow-soft { box-shadow: 0 10px 30px rgba(0,0,0,0.15); }
    .bg-grad {
      background: radial-gradient(1200px 600px at 10% -10%, #0ea5e930 0%, transparent 60%),
                  radial-gradient(900px 500px at 110% 10%, #22c55e30 0%, transparent 60%),
                  linear-gradient(180deg, #0b1220 0%, #0b1220 100%);
    }
  </style>
</head>
<body class="min-h-screen text-slate-100 bg-grad">

  <!-- NAVBAR -->
  <header class="sticky top-0 z-40 bg-slate-900/70 backdrop-blur border-b border-white/10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="h-6 w-6 rounded-full bg-emerald-400/90"></div>
        <span class="text-sm font-semibold tracking-wide">Crypto Analytics</span>
      </div>
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a href="#dashboard" class="hover:text-white/90 text-white/70">Dashboard</a>
        <a href="#about" class="hover:text-white/90 text-white/70">About</a>
        <a href="#contact" class="hover:text-white/90 text-white/70">Contact</a>
      </nav>
      <a href="#dashboard" class="text-xs font-semibold px-3 py-1.5 rounded-md bg-emerald-500 hover:bg-emerald-400 text-slate-900">Launch</a>
    </div>
  </header>

  <!-- HERO -->
  <section class="relative">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16 md:py-24">
      <div class="grid md:grid-cols-2 gap-10 items-center">
        <div>
          <h1 class="text-3xl sm:text-4xl md:text-5xl font-extrabold leading-tight">
            Live Crypto Insights powered by CoinGecko and Power BI
          </h1>
          <p class="mt-5 text-white/70 max-w-xl">
            A fully free, public dashboard. Switch coins, explore trends, and see market performance with a modern, responsive UI.
          </p>
          <div class="mt-8 flex flex-wrap gap-3">
            <a href="#dashboard" class="px-4 py-2.5 text-sm font-semibold rounded-md bg-emerald-500 hover:bg-emerald-400 text-slate-900">Open Dashboard</a>
            <a href="#about" class="px-4 py-2.5 text-sm font-semibold rounded-md border border-white/20 hover:border-white/40 text-white/80">How it works</a>
          </div>
        </div>
        <div class="glass rounded-2xl p-6 shadow-soft border border-white/10">
          <div class="text-sm text-white/80">What’s inside</div>
          <ul class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3 text-white/80 text-sm">
            <li class="rounded-lg border border-white/10 p-3">KPI cards and top movers</li>
            <li class="rounded-lg border border-white/10 p-3">90-day price trends</li>
            <li class="rounded-lg border border-white/10 p-3">Market cap share</li>
            <li class="rounded-lg border border-white/10 p-3">Volume vs change scatter</li>
          </ul>
          <div class="mt-4 text-xs text-white/60">Data: CoinGecko • Embedding: Power BI Publish to Web</div>
        </div>
      </div>
    </div>
  </section>

  <!-- DASHBOARD -->
  <section id="dashboard" class="py-8 md:py-12">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <!-- Controls -->
      <div class="glass rounded-2xl border border-white/10 p-5 md:p-6 shadow-soft">
        <div class="flex flex-col lg:flex-row gap-4 lg:items-center lg:justify-between">

          <div>
            <div class="text-xs uppercase tracking-wider text-white/60">View</div>
            <select id="page" class="mt-2 text-sm bg-white/5 border border-white/15 rounded-md px-3 py-2">
              <option value="https://app.powerbi.com/view?r=eyJrIjoiODI2OTVkMTQtMzllYy00NjE4LThiZDAtMzVlMDVjNWYzYzExIiwidCI6IjY4ZDQ1MzNjLWVhZTYtNDgzMy05OWNjLTdhOTcwNGFjODcwYiIsImMiOjZ9">KPI &amp; Top Movers</option>
              <option value="https://app.powerbi.com/view?r=eyJrIjoiNDAzY2E4MDItZjdjOS00NTc0LTg5NmUtZGI2ZDgwYjI0MmIzIiwidCI6IjY4ZDQ1MzNjLWVhZTYtNDgzMy05OWNjLTdhOTcwNGFjODcwYiIsImMiOjZ9">Historical Trends</option>
              <option value="https://app.powerbi.com/view?r=eyJrIjoiYTY3OTBkN2MtN2M1MS00NjU5LTljOTItOTQ5ZjlmODg0MzQwIiwidCI6IjY4ZDQ1MzNjLWVhZTYtNDgzMy05OWNjLTdhOTcwNGFjODcwYiIsImMiOjZ9">Volume vs Change</option>
            </select>
          </div>

          <div class="flex items-center gap-2">
            <button id="reset" class="px-3 py-2 text-sm rounded-md border border-white/15 bg-white/5 hover:bg-white/10">Reset</button>

            <select id="live-coin" class="text-sm bg-white/5 border border-white/15 rounded-md px-3 py-2">
              <option value="bitcoin" selected>BTC</option>
              <option value="ethereum">ETH</option>
              <option value="solana">SOL</option>
            </select>

            <button id="live" class="px-3 py-2 text-sm rounded-md bg-emerald-500 hover:bg-emerald-400 text-slate-900">
              Show Live Price
            </button>
            <span id="now" class="text-sm text-white/80"></span>
          </div>

        </div>
      </div>

      <!-- IFRAME -->
      <div class="mt-6 glass rounded-2xl border border-white/10 p-2 shadow-soft">
        <div class="aspect-[16/9] w-full overflow-hidden rounded-xl border border-white/10">
          <iframe id="pbi" class="w-full h-full"
            src="https://app.powerbi.com/view?r=eyJrIjoiODI2OTVkMTQtMzllYy00NjE4LThiZDAtMzVlMDVjNWYzYzExIiwidCI6IjY4ZDQ1MzNjLWVhZTYtNDgzMy05OWNjLTdhOTcwNGFjODcwYiIsImMiOjZ9"
            allowfullscreen></iframe>
        </div>
        <div class="p-3 text-xs text-white/60">Tip: switch View to see different Power BI dashboards.</div>
      </div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="py-16">
    <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl md:text-3xl font-bold">How this stays free</h2>
      <p class="mt-4 text-white/75">
        Data comes from CoinGecko (no API key). Power BI uses the Web connector and Publish to Web. Hosting is free via GitHub Pages or Netlify. You can duplicate this page, swap your embed URL, and go live.
      </p>
    </div>
  </section>

  <!-- FOOTER -->
  <footer id="contact" class="border-t border-white/10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10 text-sm text-white/70">
      <div>© <span id="y"></span> Crypto Analytics. All rights reserved.</div>
    </div>
  </footer>

  <script>
    const iframe = document.getElementById("pbi");
    const pageSel = document.getElementById("page");
    const liveBtn = document.getElementById("live");
    const liveCoinSel = document.getElementById("live-coin");
    const nowSpan = document.getElementById("now");
    document.getElementById("y").textContent = new Date().getFullYear();

    // Change Power BI page
    pageSel.addEventListener("change", () => {
      iframe.src = pageSel.value;
    });

    // Reset view
    document.getElementById("reset").addEventListener("click", () => {
      pageSel.value = pageSel.options[0].value;
      iframe.src = pageSel.value;
      liveCoinSel.value = "bitcoin";
      nowSpan.textContent = "";
    });

    // Live-price fetcher
    liveBtn.addEventListener("click", async () => {
      const coin = liveCoinSel.value;
      nowSpan.textContent = "Loading…";
      try {
        const url = `https://api.coingecko.com/api/v3/simple/price?ids=${coin}&vs_currencies=usd`;
        const r = await fetch(url);
        const j = await r.json();
        const price = j[coin]?.usd;
        nowSpan.textContent = price ? `$${price.toLocaleString()}` : "—";
      } catch {
        nowSpan.textContent = "—";
      }
    });
  </script>
</body>
</html>
